<section class="lancamentos">
	<h2>Novo lançamento</h2>
	<form (ngSubmit)="add()" #f="ngForm" class="form-grid">
		<mat-form-field appearance="outline">
			<mat-label>Data</mat-label>
			<input matInput type="date" name="date" [(ngModel)]="model.date" required />
		</mat-form-field>
		<mat-form-field appearance="outline">
			<mat-label>Descrição</mat-label>
			<input matInput type="text" name="description" [(ngModel)]="model.description" required />
		</mat-form-field>
		<mat-form-field appearance="outline">
			<mat-label>Valor</mat-label>
			<input matInput type="number" name="amount" [(ngModel)]="model.amount" step="0.01" required />
		</mat-form-field>
		<mat-form-field appearance="outline">
			<mat-label>Tipo</mat-label>
			<mat-select name="type" [(ngModel)]="model.type">
				<mat-option value="income">Receita</mat-option>
				<mat-option value="expense">Despesa</mat-option>
			</mat-select>
		</mat-form-field>
		<button mat-raised-button color="primary" type="submit" [disabled]="f.invalid">Adicionar</button>
	</form>

	<h3>Todos os lançamentos</h3>
	<mat-list>
		<mat-list-item *ngFor="let t of txs()">
			<div matListItemTitle>{{ t.description }}</div>
			<div matListItemLine>{{ t.date | date:'dd/MM/yyyy' }} — {{ t.type }}</div>
			<div matListItemMeta [class.expense]="t.type==='expense'">{{ t.amount | currency:'BRL' }}</div>
			<button mat-icon-button type="button" (click)="remove(t.id)" matListItemMeta>
				<mat-icon>delete</mat-icon>
			</button>
		</mat-list-item>
	</mat-list>
</section>
